---
title: '[Algorithm] ì†Œìˆ˜ë¥¼ êµ¬í•˜ëŠ” ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•'
posttitle: 'ì†Œìˆ˜ë¥¼ êµ¬í•˜ëŠ” ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•'
date: '2023-04-03 06:45:00'
uid: 'ba'
---

[ğŸ‡ºğŸ‡¸ Read this post in English](../blog/ba)

## ì†Œìˆ˜(Prime Number)ë€

ì†Œìˆ˜(ç´ æ•¸)ëŠ” 1ë³´ë‹¤ í° ìì—°ìˆ˜ ì¤‘ì—ì„œ 1ê³¼ ìê¸° ìì‹ ë§Œì„ ì•½ìˆ˜ë¡œ ê°€ì§€ëŠ” ìˆ˜ë¥¼ ë§í•œë‹¤. ì¦‰, 2, 3, 5, 7, 11, 13, 17, ... ë“±ì´ ì†Œìˆ˜ë‹¤. ë°˜ëŒ€ë¡œ, 4, 6, 8, 9, 10, 12, 14, 15, 16, 18, ... ë“±ì€ ì†Œìˆ˜ê°€ ì•„ë‹ˆë‹¤.

## ì¼ë°˜ì ì¸ ë°©ë²•

`2`ë¶€í„° `n-1`ê¹Œì§€ ìˆœíšŒí•˜ì—¬ `n`ì„ ë‚˜ëˆ„ì–´ë³´ëŠ” ë°©ë²•ì€ ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì˜ í•˜ë‚˜ì´ë‹¤. ë§Œì•½ `n`ì„ ë‚˜ëˆ„ì–´ë–¨ì–´ì§€ê²Œ í•˜ëŠ” ìˆ˜ê°€ ìˆë‹¤ë©´, í•´ë‹¹ ìˆ«ìëŠ” ì†Œìˆ˜ê°€ ì•„ë‹ˆë‹¤.

```ts
const isPrime = (n: number): boolean => {
    for(let i=2; i<n; ++i) {
        if(n%i === 0) {
            return false;
        }
    }

    return true;
}
```

ì´ ì•Œê³ ë¦¬ì¦˜ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” `O(N)`ë¡œ ë¹„íš¨ìœ¨ì ì´ë‹¤. 

ì§ìˆ˜ì¸ ì†Œìˆ˜ëŠ” `2`ê°€ ìœ ì¼í•˜ê¸° ë•Œë¬¸ì— `2`ë¥¼ ë¨¼ì € í™•ì¸í•˜ê³ , í™€ìˆ˜ë§Œ í™•ì¸í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì—°ì‚° íšŸìˆ˜ë¥¼ ì¡°ê¸ˆ ì¤„ì¼ìˆ˜ìˆë‹¤. 

ì´ë¥¼ ì ìš©í•œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```ts
const isPrime = (n: number): boolean => {
    if(n === 2) return true;
    if(n % 2 === 0) return false;

    for(let i=3; i<n; i += 2) {
        if(n%i === 0) {
            return false;
        }
    }

    return true;
}
```

ì—°ì‚°íšŸìˆ˜ë¥¼ ì¤„ì˜€ì§€ë§Œ, ì—¬ì „íˆ `O(N)`ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤. [^1]

[^1]: O(N/2) â†’ O(N)

## ì œê³±ê·¼

ì œê³±ê·¼ì„ í™œìš©í•œ ì†Œìˆ˜ ì°¾ê¸° ë°©ë²•ì€ ë” íš¨ìœ¨ì ì¸ ì•Œê³ ë¦¬ì¦˜ ì¤‘ í•˜ë‚˜ì´ë‹¤.

`n`ì´ ì†Œìˆ˜ê°€ ì•„ë‹ˆë¼ë©´ `n`ì€ ë‘ ê°œì˜ ìì—°ìˆ˜ `p`ì™€ `q`ì˜ ê³±ìœ¼ë¡œ í‘œí˜„ë  ìˆ˜ ìˆë‹¤. ì´ë•Œ, `p`ì™€ `q` ì¤‘ í•˜ë‚˜ëŠ” ë°˜ë“œì‹œ `n`ì˜ ì œê³±ê·¼ ì´í•˜ì˜ ê°’ì´ ëœë‹¤.

ì´ ì‚¬ì‹¤ì„ ì´ìš©í•˜ì—¬ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•  ê²½ìš°, `2`ë¶€í„° `Math.sqrt(n)`ê¹Œì§€ì˜ ìˆ˜ë¡œ `n`ì„ ë‚˜ëˆ„ì–´ë–¨ì–´ì§€ê²Œ í•˜ëŠ”ì§€ ê²€ì‚¬í•˜ë©´ ëœë‹¤.

```ts
const isPrime = (n: number): boolean => {
    if(n === 2) return true;
    if(n % 2 === 0) return false;
    const UPPER_BOUND = Math.sqrt(n);

    for(let i=3; i<=UPPER_BOUND; i += 2) {
        if(n%i === 0) {
            return false;
        }
    }

    return true;
}
```

ì´ ì•Œê³ ë¦¬ì¦˜ì˜ ì‹œê°„ë³µì¡ë„ëŠ” `O(sqrt(N))`ìœ¼ë¡œ `O(N)`ë³´ë‹¤ íš¨ìœ¨ì ì´ë‹¤. 

ì—¬ê¸°ì„œ ì¡°ê¸ˆ ë” ì—°ì‚°íšŸìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

## 6K Â± 1

ì†Œìˆ˜ëŠ” 2ì™€ 3ì„ ì œì™¸í•˜ë©´ ë°˜ë“œì‹œ `6K-1` ë˜ëŠ” `6K+1`ì˜ í˜•íƒœë¥¼ ê°–ëŠ”ë‹¤. 

- 6K
- 6K + 1 & 6K - 1
- 6K + 2 & 6K - 2
- 6K + 3 & 6K - 3
- 6K + 4 & 6K - 4
- 6K + 5 & 6K - 5

`K = 1`ì˜ ê²½ìš° ì•„ë˜ì˜ ê°’ì„ ê°€ì§„ë‹¤.

- 6K â†’ 6
- 6K Â± 1 â†’ 7 & 5
- 6K Â± 2 â†’ 8 & 4
- 6K + 3 â†’ 9
- 6K + 4 â†’ 10

`6K`, `6KÂ±2`, `6K+3`, `6K+4`ì€ ì „ë¶€ `2`ì™€ `3`ì˜ ë°°ìˆ˜ì´ë¯€ë¡œ ì†Œìˆ˜ê°€ ì•„ë‹ˆë‹¤. ë‚¨ëŠ” ê²ƒì€ `6K Â± 1`  ë¿ì´ë‹¤.

ë”°ë¼ì„œ, ìš°ë¦¬ëŠ” `6K-1`ê³¼ `6K+1`ì˜ ê°’ë§Œ ê²€ì‚¬í•˜ë©´ ëœë‹¤.

```ts
const isPrime = (k: number): boolean => {
    if (k <= 1) 
        return false; // 0ê³¼ 1ì€ ì†Œìˆ˜ê°€ ì•„ë‹ˆë‹¤
    if (k === 2 || k === 3) 
        return true; // 2ì™€ 3ì€ ì†Œìˆ˜ì´ë‹¤
        
    if (k % 2 === 0 || k % 3 === 0) 
        return false; // // 2ì™€ 3ì˜ ë°°ìˆ˜ëŠ” ì†Œìˆ˜ê°€ ì•„ë‹ˆë‹¤
        
    for (let i = 5; i * i <= k; i += 6) {  // 5ë¶€í„° sqrt(k)ê¹Œì§€ í™•ì¸
        if (k % i === 0 || k % (i + 2) === 0) 
            return false; // 6K-1ê³¼ 6K+1 ì¤‘ í•˜ë‚˜ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ë©´ ì†Œìˆ˜ê°€ ì•„ë‹ˆë‹¤
    }

    return true;  // ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ì§€ ì•Šìœ¼ë©´ ì†Œìˆ˜ì´ë‹¤
}
```

ì—°ì‚°íšŸìˆ˜ê°€ ì¤„ì–´ë“¤ì—ˆì§€ë§Œ, ì´ ì•Œê³ ë¦¬ì¦˜ ì—­ì‹œ ì œê³±ê·¼ì„ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— ì‹œê°„ë³µì¡ë„ëŠ” `O(sqrt(N))`ì´ë‹¤.[^2]

[^2]: O(sqrt(N) / 6) â†’ O(sqrt(N))

## ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´

ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´(Sieve of Eratosthenes) ì•Œê³ ë¦¬ì¦˜ì€ 2ë¶€í„° ì‹œì‘í•˜ì—¬ ì°¨ë¡€ëŒ€ë¡œ ë°°ìˆ˜ë¥¼ ì§€ì›Œê°€ëŠ” ë°©ì‹ìœ¼ë¡œ ì†Œìˆ˜ë¥¼ ì°¾ëŠ” ë°©ë²•ì´ë‹¤.

ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì²´ì ì¸ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

1. `2`ë¶€í„° `n`ê¹Œì§€ì˜ ëª¨ë“  ìì—°ìˆ˜ë¥¼ ë‚˜ì—´í•œë‹¤.
2. ë‚¨ì€ ìˆ˜ ì¤‘ì—ì„œ ì•„ì§ ì²˜ë¦¬í•˜ì§€ ì•Šì€ ê°€ì¥ ì‘ì€ ìˆ˜ `p`ë¥¼ ì°¾ëŠ”ë‹¤. `p`ëŠ” ì†Œìˆ˜ì´ë‹¤.
3. ë‚¨ì€ ìˆ˜ ì¤‘ì—ì„œ `p`ì˜ ë°°ìˆ˜ë¥¼ ëª¨ë‘ ì œê±°í•œë‹¤ (`p`ëŠ” ì œê±°í•˜ì§€ ì•ŠëŠ”ë‹¤).
4. ë” ì´ìƒ ë°˜ë³µí•  ìˆ˜ ì—†ì„ ë•Œê¹Œì§€ 2ë²ˆê³¼ 3ë²ˆ ê³¼ì •ì„ ë°˜ë³µí•œë‹¤.

[^src1]
![sieve](https://upload.wikimedia.org/wikipedia/commons/b/b9/Sieve_of_Eratosthenes_animation.gif)

[^src1]: [Sieve of Eratosthenes Animation](https://ko.wikipedia.org/wiki/%EC%97%90%EB%9D%BC%ED%86%A0%EC%8A%A4%ED%85%8C%EB%84%A4%EC%8A%A4%EC%9D%98_%EC%B2%B4#/media/%ED%8C%8C%EC%9D%BC:Sieve_of_Eratosthenes_animation.gif)


ìœ„ ì•Œê³ ë¦¬ì¦˜ì„ ì½”ë“œë¡œ í‘œí˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```ts
const sieve = (n: number): boolean => {
    const SIZE: number = n+1;
    // 1) 2ë¶€í„° nê¹Œì§€ì˜ ëª¨ë“  ìì—°ìˆ˜ë¥¼ ë‚˜ì—´í•œë‹¤.
    let arr: boolean[] = new Array(SIZE).fill(true);
    arr[0] = false;
    arr[1] = false;

    let p = 2;
    // 4) ë” ì´ìƒ ë°˜ë³µí•  ìˆ˜ ì—†ì„ ë•Œê¹Œì§€ 2ë²ˆê³¼ 3ë²ˆ ê³¼ì •ì„ ë°˜ë³µí•œë‹¤.
    while(p < SIZE) {
        if(arr[p]) { // 2) ë‚¨ì€ ìˆ˜ ì¤‘ì—ì„œ ì•„ì§ ì²˜ë¦¬í•˜ì§€ ì•Šì€ ê°€ì¥ ì‘ì€ ìˆ˜ pë¥¼ ì°¾ëŠ”ë‹¤
            for(let i=p+p ;i < SIZE; i += p) {
                // 3) ë‚¨ì€ ìˆ˜ ì¤‘ì—ì„œ pì˜ ë°°ìˆ˜ë¥¼ ëª¨ë‘ ì œê±°í•œë‹¤
                arr[i] = false;
            }
        }

        p += 1;
    }

    return arr[n];
}
```

ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ ì•Œê³ ë¦¬ì¦˜ì˜ ì‹œê°„ë³µì¡ë„ëŠ” `O(n log log n)`ì´ë‹¤.[^3]

[^3]: n/2, n/3, n/5, n/7, ... n/p â†’ integral of 1/ln(x) from 2 to n â†’ ln(ln(n)) + O(1) â†’ O(n*log(log(n))) ([ì°¸ê³ ](https://www.geeksforgeeks.org/how-is-the-time-complexity-of-sieve-of-eratosthenes-is-nloglogn/))